groups:
  - name: stress_test
    rules:
      - alert: HighRequestRate0
        expr: sum(rate({__name__=~ "stress_test_.*"}[5s])) > 0
        for: 5s
        labels:
          severity: info
        annotations:
          summary: High request rate
          description: High request rate detected
      - alert: HighRequestRate25
        expr: sum(rate({__name__=~ "stress_test_.*"}[5s])) > 25
        for: 5s
        labels:
          severity: warning
        annotations:
          summary: High request rate
          description: High request rate detected

      - alert: HighRequestRate50
        expr: sum(rate({__name__=~ "stress_test_.*"}[5s])) > 50
        for: 5s
        labels:
          severity: warning
        annotations:
          summary: High request rate
          description: High request rate detected

      - alert: HighRequestRate75
        expr: sum(rate({__name__=~ "stress_test_.*"}[5s])) > 75
        for: 5s
        labels:
          severity: high
        annotations:
          summary: High request rate
          description: High request rate detected

      - alert: HighRequestRate100
        expr: sum(rate({__name__=~ "stress_test_.*"}[5s])) == 100
        for: 5s
        labels:
          severity: high
        annotations:
          summary: High request rate
          description: High request rate detected